<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√ÜKON Mystery Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Red+Hat+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        .font-display { font-family: 'Red Hat Display', sans-serif; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        .text-cyan { color: #00ffff; }
        .text-purple { color: #a855f7; }
        .text-green { color: #10b981; }
        .text-yellow { color: #f59e0b; }
        .text-red { color: #ef4444; }
        
        body {
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 100%);
            color: #e4e4e7;
            font-family: 'Red Hat Display', sans-serif;
        }
        
        .cyber-border {
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(8px);
        }
        
        .cyber-button {
            background: rgba(168, 85, 247, 0.2);
            border: 1px solid rgba(168, 85, 247, 0.5);
            color: #a855f7;
            padding: 8px 16px;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-family: 'Red Hat Display', sans-serif;
        }
        
        .cyber-button:hover {
            background: rgba(168, 85, 247, 0.3);
            border-color: rgba(168, 85, 247, 0.7);
        }
        
        .cyber-input {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(100, 116, 139, 0.5);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            outline: none;
            transition: all 0.2s ease;
        }
        
        .cyber-input:focus {
            border-color: rgba(168, 85, 247, 0.6);
            box-shadow: 0 0 0 1px rgba(168, 85, 247, 0.2);
        }
        
        .file-explorer-item {
            padding: 4px 8px;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s ease;
            user-select: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            min-height: 24px;
        }

        .file-explorer-item:hover {
            background: rgba(0, 255, 255, 0.1);
            color: #00ffff;
        }
        
        .file-explorer-item.selected {
            background: rgba(0, 255, 255, 0.2);
            color: #00ffff;
            border-left: 3px solid #00ffff;
        }

        .folder-item {
            font-weight: 500;
        }

        .file-item {
            font-weight: 400;
        }

        .file-icon, .expand-icon {
            flex-shrink: 0;
            width: 16px;
            text-align: center;
        }

        .item-name {
            flex: 1;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .file-size {
            flex-shrink: 0;
            font-size: 11px;
            color: #888;
            margin-left: auto;
        }

        .expand-arrow {
            flex-shrink: 0;
            font-size: 10px;
            color: #666;
            margin-left: auto;
        }

        .folder-contents {
            border-left: 1px solid rgba(0, 255, 255, 0.2);
            margin-left: 8px;
        }

        .file-explorer-tree {
            padding: 8px 0;
        }

        .breadcrumb-item {
            cursor: pointer;
            padding: 2px 4px;
            border-radius: 2px;
            transition: background 0.2s ease;
        }

        .breadcrumb-item:hover {
            background: rgba(0, 255, 255, 0.1);
            color: #00ffff;
        }
        
        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }
        
        .status-online {
            background: #10b981;
            box-shadow: 0 0 8px rgba(16, 185, 129, 0.6);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .expand-icon {
            transition: transform 0.2s ease;
        }
        
        .expand-icon.expanded {
            transform: rotate(90deg);
        }
    </style>
</head>
<body class="min-h-screen">
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // API Base URL
        const API_BASE = 'http://127.0.0.1:8787';

        // File Explorer Component
        function KnowledgeExplorer({ onSectionChange }) {
            const [expandedFolders, setExpandedFolders] = useState({
                'forgotten-languages': true
            });
            const [selectedFile, setSelectedFile] = useState('');
            const [currentPath, setCurrentPath] = useState([]);

            const toggleFolder = (folderPath) => {
                setExpandedFolders(prev => ({
                    ...prev,
                    [folderPath]: !prev[folderPath]
                }));
            };

            const selectFile = (filePath, fileName, fileType) => {
                setSelectedFile(filePath);
                onSectionChange(filePath, fileName, fileType);
            };

            const navigateToPath = (pathArray) => {
                setCurrentPath(pathArray);
            };

            const fileSystem = [
                {
                    type: 'folder',
                    name: 'forgotten-languages',
                    path: 'forgotten-languages',
                    children: [
                        { type: 'file', name: 'overview.md', path: 'forgotten-languages/overview.md', size: '89KB', fileType: 'overview', icon: 'üìã' },
                        {
                            type: 'folder',
                            name: 'military-defense',
                            path: 'forgotten-languages/military-defense',
                            children: [
                                { type: 'file', name: 'overview.md', path: 'forgotten-languages/military-defense/overview.md', size: '67KB', fileType: 'overview', icon: 'üìã' },
                                {
                                    type: 'folder',
                                    name: 'sv17q-system',
                                    path: 'forgotten-languages/military-defense/sv17q-system',
                                    children: [
                                        { type: 'file', name: 'specifications.md', path: 'forgotten-languages/military-defense/sv17q-system/specifications.md', size: '124KB', fileType: 'markdown', icon: 'üìù' },
                                        { type: 'file', name: 'defense-integration.enc', path: 'forgotten-languages/military-defense/sv17q-system/defense-integration.enc', size: '892KB', fileType: 'encrypted', icon: 'üîí' }
                                    ]
                                },
                                {
                                    type: 'folder',
                                    name: 'cassini-diskus',
                                    path: 'forgotten-languages/military-defense/cassini-diskus',
                                    children: [
                                        { type: 'file', name: 'coordinates.dat', path: 'forgotten-languages/military-defense/cassini-diskus/coordinates.dat', size: '3.2MB', fileType: 'data', icon: 'üìä' },
                                        { type: 'file', name: 'spatial-analysis.py', path: 'forgotten-languages/military-defense/cassini-diskus/spatial-analysis.py', size: '78KB', fileType: 'python', icon: 'üêç' }
                                    ]
                                }
                            ]
                        },
                        {
                            type: 'folder',
                            name: 'occult-spirituality',
                            path: 'forgotten-languages/occult-spirituality',
                            children: [
                                { type: 'file', name: 'overview.md', path: 'forgotten-languages/occult-spirituality/overview.md', size: '78KB', fileType: 'overview', icon: 'üìã' },
                                {
                                    type: 'folder',
                                    name: 'giselians',
                                    path: 'forgotten-languages/occult-spirituality/giselians',
                                    children: [
                                        { type: 'file', name: 'sufism-connections.md', path: 'forgotten-languages/occult-spirituality/giselians/sufism-connections.md', size: '178KB', fileType: 'markdown', icon: 'üåô' },
                                        { type: 'file', name: 'theosophy-analysis.pdf', path: 'forgotten-languages/occult-spirituality/giselians/theosophy-analysis.pdf', size: '923KB', fileType: 'pdf', icon: '‚ú®' }
                                    ]
                                },
                                {
                                    type: 'folder',
                                    name: 'queltron-system',
                                    path: 'forgotten-languages/occult-spirituality/queltron-system',
                                    children: [
                                        { type: 'file', name: 'alchemy-symbols.svg', path: 'forgotten-languages/occult-spirituality/queltron-system/alchemy-symbols.svg', size: '67KB', fileType: 'svg', icon: '‚öóÔ∏è' },
                                        { type: 'file', name: 'transformation-protocols.md', path: 'forgotten-languages/occult-spirituality/queltron-system/transformation-protocols.md', size: '145KB', fileType: 'markdown', icon: 'üîÆ' }
                                    ]
                                }
                            ]
                        },
                        {
                            type: 'folder',
                            name: 'consciousness-studies',
                            path: 'forgotten-languages/consciousness-studies',
                            children: [
                                { type: 'file', name: 'overview.md', path: 'forgotten-languages/consciousness-studies/overview.md', size: '92KB', fileType: 'overview', icon: 'üìã' },
                                {
                                    type: 'folder',
                                    name: 'nodespaces',
                                    path: 'forgotten-languages/consciousness-studies/nodespaces',
                                    children: [
                                        { type: 'file', name: 'topology.graph', path: 'forgotten-languages/consciousness-studies/nodespaces/topology.graph', size: '567KB', fileType: 'graph', icon: 'üï∏Ô∏è' },
                                        { type: 'file', name: 'theory.pdf', path: 'forgotten-languages/consciousness-studies/nodespaces/theory.pdf', size: '1.8MB', fileType: 'pdf', icon: 'üìÑ' },
                                        { type: 'file', name: 'consciousness-studies.md', path: 'forgotten-languages/consciousness-studies/nodespaces/consciousness-studies.md', size: '234KB', fileType: 'markdown', icon: 'üí≠' }
                                    ]
                                }
                            ]
                        },
                        {
                            type: 'folder',
                            name: 'linguistic-systems',
                            path: 'forgotten-languages/linguistic-systems',
                            children: [
                                { type: 'file', name: 'overview.md', path: 'forgotten-languages/linguistic-systems/overview.md', size: '76KB', fileType: 'overview', icon: 'üìã' },
                                {
                                    type: 'folder',
                                    name: 'core-languages',
                                    path: 'forgotten-languages/linguistic-systems/core-languages',
                                    children: [
                                        { type: 'file', name: 'aylid.lexicon', path: 'forgotten-languages/linguistic-systems/core-languages/aylid.lexicon', size: '1.2MB', fileType: 'lexicon', icon: 'üìú' },
                                        { type: 'file', name: 'yid.lexicon', path: 'forgotten-languages/linguistic-systems/core-languages/yid.lexicon', size: '856KB', fileType: 'lexicon', icon: 'üìú' },
                                        { type: 'file', name: 'ned.lexicon', path: 'forgotten-languages/linguistic-systems/core-languages/ned.lexicon', size: '432KB', fileType: 'lexicon', icon: 'üìú' },
                                        { type: 'file', name: 'drizza.lexicon', path: 'forgotten-languages/linguistic-systems/core-languages/drizza.lexicon', size: '234KB', fileType: 'lexicon', icon: 'üìú' }
                                    ]
                                },
                                {
                                    type: 'folder',
                                    name: 'translations',
                                    path: 'forgotten-languages/linguistic-systems/translations',
                                    children: [
                                        { type: 'file', name: 'aylid-english.dict', path: 'forgotten-languages/linguistic-systems/translations/aylid-english.dict', size: '2.1MB', fileType: 'dictionary', icon: 'üîÑ' },
                                        { type: 'file', name: 'grammar-patterns.xml', path: 'forgotten-languages/linguistic-systems/translations/grammar-patterns.xml', size: '567KB', fileType: 'xml', icon: 'üìã' }
                                    ]
                                }
                            ]
                        },
                        {
                            type: 'folder',
                            name: 'research-data',
                            path: 'forgotten-languages/research-data',
                            children: [
                                { type: 'file', name: 'anas-index.db', path: 'forgotten-languages/research-data/anas-index.db', size: '21.9MB', fileType: 'database', icon: 'üóÑÔ∏è' },
                                { type: 'file', name: 'community-findings.db', path: 'forgotten-languages/research-data/community-findings.db', size: '4.7MB', fileType: 'database', icon: 'üóÑÔ∏è' },
                                { type: 'file', name: 'articles.json', path: 'forgotten-languages/research-data/articles.json', size: '2.4MB', fileType: 'json', icon: 'üìÑ' }
                            ]
                        }
                    ]
                }
            ];

            const renderFileSystemItem = (item, depth = 0) => {
                const isExpanded = expandedFolders[item.path];
                const isSelected = selectedFile === item.path;
                const indentStyle = { paddingLeft: `${depth * 20 + 8}px` };

                if (item.type === 'folder') {
                    return (
                        <div key={item.path}>
                            <div 
                                className={`file-explorer-item folder-item ${isSelected ? 'selected' : ''}`}
                                style={indentStyle}
                                onClick={() => toggleFolder(item.path)}
                            >
                                <span className={`expand-icon ${isExpanded ? 'expanded' : ''}`}>
                                    {isExpanded ? 'üìÇ' : 'üìÅ'}
                                    </span>
                                <span className="item-name">{item.name}</span>
                                <span className="expand-arrow">{isExpanded ? '‚ñº' : '‚ñ∂'}</span>
                                </div>
                            {isExpanded && item.children && (
                                <div className="folder-contents">
                                    {item.children.map(child => renderFileSystemItem(child, depth + 1))}
                                </div>
                            )}
                        </div>
                    );
                } else {
                    return (
                        <div 
                            key={item.path}
                            className={`file-explorer-item file-item ${isSelected ? 'selected' : ''}`}
                            style={indentStyle}
                            onClick={() => selectFile(item.path, item.name, item.fileType)}
                        >
                            <span className="file-icon">{item.icon}</span>
                            <span className="item-name">{item.name}</span>
                            <span className="file-size">{item.size}</span>
                                            </div>
                    );
                }
            };

            return (
                <div className="cyber-border p-0 h-full flex flex-col">
                    {/* Explorer Header */}
                    <div className="p-4 border-b border-cyan/30">
                        <h2 className="text-lg font-semibold text-cyan mb-2">üóÇÔ∏è FL Research Explorer</h2>
                        <div className="flex items-center space-x-2 text-sm">
                            <span className="status-indicator status-online"></span>
                            <span className="text-green">Connected</span>
                        </div>
                    </div>

                    {/* Breadcrumb */}
                    {currentPath.length > 0 && (
                        <div className="px-4 py-2 bg-gray-900/50 border-b border-cyan/20">
                            <div className="flex items-center space-x-1 text-sm text-gray-300">
                                <span className="cursor-pointer hover:text-cyan" onClick={() => navigateToPath([])}>üè†</span>
                                {currentPath.map((folder, index) => (
                                    <React.Fragment key={index}>
                                        <span>/</span>
                                        <span className="cursor-pointer hover:text-cyan" onClick={() => navigateToPath(currentPath.slice(0, index + 1))}>
                                            {folder}
                                        </span>
                                    </React.Fragment>
                                ))}
                            </div>
                                    </div>
                                )}
                                
                    {/* File Tree */}
                    <div className="flex-1 overflow-auto">
                        <div className="file-explorer-tree">
                            {fileSystem.map(item => renderFileSystemItem(item))}
                        </div>
                    </div>
                </div>
            );
        }

        // Ana's Index Search Component
        function AnasIndexSearch() {
            const [query, setQuery] = useState('');
            const [results, setResults] = useState([]);
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState(null);

            const searchAnasIndex = async () => {
                if (!query.trim()) return;
                
                setLoading(true);
                setError(null);
                try {
                    const response = await fetch(`http://127.0.0.1:8787/anas-index/search?q=${encodeURIComponent(query)}`);
                    if (!response.ok) throw new Error('Search failed');
                    const data = await response.json();
                    setResults(data);
                } catch (err) {
                    setError(err.message);
                    setResults([]);
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div className="space-y-4">
                    <div className="flex space-x-3">
                        <input
                            type="text"
                            value={query}
                            onChange={(e) => setQuery(e.target.value)}
                            onKeyPress={(e) => e.key === 'Enter' && searchAnasIndex()}
                            placeholder="Search Ana's Index..."
                            className="cyber-input flex-1"
                        />
                        <button 
                            onClick={searchAnasIndex}
                            disabled={loading || !query.trim()}
                            className="cyber-button px-6"
                        >
                            {loading ? 'SEARCHING...' : 'SEARCH'}
                        </button>
                    </div>

                    {error && (
                        <div className="cyber-border p-4 border-red-500/50 bg-red-500/10">
                            <p className="text-red-400">Error: {error}</p>
                        </div>
                    )}

                    {results.length > 0 && (
                        <div className="space-y-3">
                            <p className="text-cyan">Found {results.length} results:</p>
                            {results.map((result, i) => (
                                <div key={i} className="cyber-border p-4">
                                    <h4 className="text-purple font-semibold mb-2">{result.title}</h4>
                                    <p className="text-gray-300 text-sm mb-2">By {result.author} ‚Ä¢ {result.date_posted}</p>
                                    {result.english_text && (
                                        <p className="text-gray-400 text-sm mb-2">{result.english_text.substring(0, 200)}...</p>
                                    )}
                                    {result.tags && (
                                        <div className="flex flex-wrap gap-2 mt-2">
                                            {result.tags.split(',').map((tag, j) => (
                                                <span key={j} className="px-2 py-1 bg-cyan-500/20 text-cyan text-xs rounded">
                                                    {tag.trim()}
                                                </span>
                                            ))}
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>
                    )}
                </div>
            );
        }

        // Vault Search Component
        function VaultSearch() {
            const [query, setQuery] = useState('');
            const [results, setResults] = useState([]);
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState(null);

            const searchVault = async () => {
                if (!query.trim()) return;
                
                setLoading(true);
                setError(null);
                try {
                    const response = await fetch(`http://127.0.0.1:8787/vault/search?q=${encodeURIComponent(query)}`);
                    if (!response.ok) throw new Error('Vault search failed');
                    const data = await response.json();
                    setResults(data);
                } catch (err) {
                    setError(err.message);
                    setResults([]);
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div className="space-y-4">
                    <div className="flex space-x-3">
                        <input
                            type="text"
                            value={query}
                            onChange={(e) => setQuery(e.target.value)}
                            onKeyPress={(e) => e.key === 'Enter' && searchVault()}
                            placeholder="Search community research vault..."
                            className="cyber-input flex-1"
                        />
                        <button 
                            onClick={searchVault}
                            disabled={loading || !query.trim()}
                            className="cyber-button"
                        >
                            {loading ? 'Searching...' : 'Search'}
                        </button>
                    </div>

                    {error && (
                        <div className="cyber-border p-4 bg-red-900/20 border-red-500/50">
                            <div className="text-red-400">‚ùå Search Error: {error}</div>
                        </div>
                    )}

                    {results.length > 0 && (
                        <div className="space-y-3">
                            <div className="text-sm text-gray-400">
                                Found {results.length} community research results
                            </div>
                            {results.map((result, index) => (
                                <div key={index} className="cyber-border p-4">
                                    <div className="flex items-start justify-between mb-2">
                                        <h4 className="font-semibold text-cyan">{result.title || 'Community Finding'}</h4>
                                        <span className="text-xs text-gray-500">Community</span>
                                    </div>
                                    <p className="text-gray-300 text-sm mb-2">{result.content || result.excerpt}</p>
                                    {result.confidence && (
                                        <div className="text-xs text-yellow-400">
                                            Confidence: {result.confidence}
                                        </div>
                                    )}
                                </div>
                            ))}
                        </div>
                    )}

                    {query && results.length === 0 && !loading && !error && (
                        <div className="text-center text-gray-400 py-8">
                            No community research found for "{query}"
                        </div>
                    )}
                </div>
            );
        }

        // Lexicon Search Component
        function LexiconSearch() {
            const [query, setQuery] = useState('');
            const [results, setResults] = useState([]);
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState(null);

            const searchLexicon = async () => {
                if (!query.trim()) return;
                
                setLoading(true);
                setError(null);
                try {
                    const response = await fetch(`http://127.0.0.1:8787/lexicon/search?q=${encodeURIComponent(query)}`);
                    if (!response.ok) throw new Error('Search failed');
                    const data = await response.json();
                    setResults(data);
                } catch (err) {
                    setError(err.message);
                    setResults([]);
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div className="space-y-4">
                    <div className="flex space-x-3">
                        <input
                            type="text"
                            value={query}
                            onChange={(e) => setQuery(e.target.value)}
                            onKeyPress={(e) => e.key === 'Enter' && searchLexicon()}
                            placeholder="Search FL Lexicon..."
                            className="cyber-input flex-1"
                        />
                        <button 
                            onClick={searchLexicon}
                            disabled={loading || !query.trim()}
                            className="cyber-button px-6"
                        >
                            {loading ? 'SEARCHING...' : 'SEARCH'}
                        </button>
                    </div>

                    {error && (
                        <div className="cyber-border p-4 border-red-500/50 bg-red-500/10">
                            <p className="text-red-400">Error: {error}</p>
                        </div>
                    )}

                    {results.length > 0 && (
                        <div className="space-y-3">
                            <p className="text-cyan">Found {results.length} lexicon entries:</p>
                            {results.map((result, i) => (
                                <div key={i} className="cyber-border p-4">
                                    <div className="flex justify-between items-start mb-2">
                                        <h4 className="text-purple font-semibold">{result.surface || result.normalized}</h4>
                                        <span className="text-green text-sm">
                                            {Math.round((result.confidence || 0) * 100)}% confidence
                                        </span>
                                    </div>
                                    {result.gloss && (
                                        <p className="text-gray-300 mb-2">"{result.gloss}"</p>
                                    )}
                                    {result.pos && (
                                        <p className="text-gray-400 text-sm">Part of speech: {result.pos}</p>
                                    )}
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        }

        // Main Content Area
        function MainContentArea({ currentSection, sectionTitle, fileType }) {
            const [contentData, setContentData] = useState(null);
            const [loading, setLoading] = useState(false);

            useEffect(() => {
                loadSectionContent(currentSection, sectionTitle, fileType);
            }, [currentSection, sectionTitle, fileType]);

            const loadSectionContent = async (filePath, fileName, fileType) => {
                console.log('Loading file:', { filePath, fileName, fileType });
                
                if (!filePath) {
                    setContentData({
                        type: 'welcome',
                        title: 'üóÇÔ∏è FL Research Explorer',
                        description: 'Welcome to the Forgotten Languages Research Environment',
                        content: 'Select a file from the explorer to begin your research journey.',
                        features: 'Navigate through folders and click on files to access analysis tools and data.'
                    });
                    return;
                }

                setLoading(true);
                try {
                    // Simulate file loading
                    await new Promise(resolve => setTimeout(resolve, 300));
                    
                    // Handle different file types based on path and fileType
                    if (filePath === 'forgotten-languages/overview.md') {
                        setContentData({
                            type: 'overview',
                            title: 'üìã Forgotten Languages Research Overview',
                            path: filePath,
                            size: '89KB',
                            description: 'Comprehensive overview of FL research domains and major topic areas',
                            content: 'High-level analysis of the Forgotten Languages corpus, major research themes, and organizational structure.',
                            metadata: {
                                'Research Domains': '5 major areas',
                                'Coverage': 'Comprehensive survey',
                                'Confidence Level': 'High (Structural)',
                                'Last Updated': '2024-01-15'
                            },
                            features: 'Domain navigation, topic overviews, research pathways.',
                            documentContent: `# Forgotten Languages Research Overview

## Executive Summary
The Forgotten Languages corpus represents a comprehensive collection of linguistic, technical, and philosophical materials organized into five major research domains. This overview provides strategic navigation through the primary topic areas and their interconnections.

## Major Research Domains

### üõ°Ô∏è Military & Defense Applications
**Scope**: Advanced positioning systems, defense integration protocols, strategic communications
**Key Systems**: SV17Q System, Cassini Diskus, Defense Integration Protocols
**Confidence**: High (FL Direct) - Extensive documentation and technical specifications
**Applications**: Spatial navigation, strategic positioning, secure communications

### üîÆ Occult & Spirituality Studies  
**Scope**: Mystical traditions, esoteric knowledge systems, spiritual frameworks
**Key Systems**: Giselians, Queltron System, Transformation Protocols
**Confidence**: Medium to Low (Interpretive) - Requires careful analysis
**Applications**: Consciousness exploration, spiritual practices, mystical interpretation

### üß† Consciousness & Cognitive Studies
**Scope**: Information processing, awareness states, cognitive architecture
**Key Systems**: NodeSpaces, Consciousness Mapping, Information Theory
**Confidence**: Medium (Theoretical) - Strong conceptual frameworks
**Applications**: Cognitive modeling, consciousness research, information processing

### üó£Ô∏è Linguistic Systems & Translation
**Scope**: Core FL languages, translation methodologies, linguistic analysis
**Key Systems**: Aylid, Yid, Ned, Drizza languages with translation frameworks
**Confidence**: High (FL Direct) - Extensive lexical databases
**Applications**: Translation services, linguistic analysis, pattern recognition

### üìä Research Data & Analysis
**Scope**: Primary source materials, community research, analytical tools
**Key Systems**: Ana's Index, Community Vault, Research Databases
**Confidence**: Variable (Source-dependent) - Comprehensive documentation
**Applications**: Data mining, research analysis, collaborative investigation

## Navigation Strategy
1. **Start with domain overviews** for broad understanding
2. **Drill down to specific systems** for detailed analysis  
3. **Access implementation details** for practical applications
4. **Cross-reference related topics** for comprehensive coverage

## Research Pathways
- **Technical Focus**: Military-Defense ‚Üí Consciousness Studies ‚Üí Linguistic Systems
- **Mystical Focus**: Occult-Spirituality ‚Üí Consciousness Studies ‚Üí Research Data
- **Academic Focus**: Linguistic Systems ‚Üí Research Data ‚Üí All supporting domains

*This overview provides strategic navigation through FL research domains. Select specific folders to explore detailed topic areas.*`
                        });
                    } else if (filePath === 'forgotten-languages/military-defense/overview.md') {
                        setContentData({
                            type: 'overview',
                            title: 'üõ°Ô∏è Military & Defense Applications Overview',
                            path: filePath,
                            size: '67KB',
                            description: 'Strategic overview of FL military and defense applications',
                            content: 'Comprehensive analysis of defense-related FL systems, applications, and strategic implementations.',
                            metadata: {
                                'Systems Covered': 'SV17Q, Cassini Diskus, Defense Integration',
                                'Classification': 'RESTRICTED ACCESS',
                                'Confidence Level': 'High (FL Direct)',
                                'Applications': 'Strategic positioning, secure communications'
                            },
                            features: 'Strategic analysis, system overviews, implementation guides.',
                            documentContent: `# Military & Defense Applications Overview

## Strategic Context
FL military and defense applications represent the most documented and technically sophisticated aspects of the corpus. These systems demonstrate advanced understanding of spatial positioning, secure communications, and strategic coordination.

## Primary Defense Systems

### SV17Q System
**Classification**: RESTRICTED  
**Function**: Advanced strategic positioning and coordination
**Status**: Operational specifications available
**Applications**: Strategic positioning, tactical coordination, secure communications
**Technical Maturity**: High - Comprehensive implementation protocols

### Cassini Diskus
**Classification**: TECHNICAL RESTRICTED
**Function**: Global spatial positioning and navigation framework  
**Status**: Extensive coordinate databases and analysis tools
**Applications**: Geographic positioning, spatial analysis, defense integration
**Technical Maturity**: Very High - 50,000+ coordinate points documented

### Defense Integration Protocols
**Classification**: CLASSIFIED
**Function**: Integration methodologies for FL systems in defense applications
**Status**: Encrypted specifications and access controls
**Applications**: System integration, security protocols, operational deployment
**Technical Maturity**: Advanced - Requires security clearance

## Strategic Advantages

### Spatial Precision
FL positioning systems demonstrate accuracy levels of ¬±0.001 arc-seconds, providing:
- Strategic positioning advantages
- Enhanced navigation capabilities  
- Precise coordinate referencing
- Global coverage networks

### Secure Communications
Advanced linguistic frameworks enable:
- Encrypted communication protocols
- Strategic information sharing
- Operational security measures
- Inter-system coordination

### Integration Capabilities
Sophisticated integration protocols support:
- Multi-system coordination
- Strategic planning frameworks
- Operational deployment models
- Security clearance management

## Implementation Pathways
1. **System Familiarization**: Review individual system specifications
2. **Integration Planning**: Study defense integration protocols
3. **Operational Deployment**: Implement security measures and access controls
4. **Strategic Application**: Deploy systems for specific operational requirements

*Access to detailed specifications requires appropriate security clearance and authorization.*`
                        });
                    } else if (filePath === 'forgotten-languages/occult-spirituality/overview.md') {
                        setContentData({
                            type: 'overview',
                            title: 'üîÆ Occult & Spirituality Studies Overview',
                            path: filePath,
                            size: '78KB',
                            description: 'Comprehensive overview of mystical and spiritual elements in FL research',
                            content: 'Analysis of esoteric traditions, spiritual frameworks, and mystical connections within FL systems.',
                            metadata: {
                                'Systems Covered': 'Giselians, Queltron System, Spiritual Frameworks',
                                'Research Status': 'Ongoing interpretation',
                                'Confidence Level': 'Medium to Low (Interpretive)',
                                'Cross-References': 'Consciousness Studies, Drizza Language'
                            },
                            features: 'Mystical analysis, spiritual interpretation, esoteric connections.',
                            documentContent: `# Occult & Spirituality Studies Overview

## Research Context
FL occult and spirituality studies explore the mystical, esoteric, and spiritual dimensions encoded within the linguistic and conceptual frameworks. This domain requires careful interpretive analysis and cross-referencing with established mystical traditions.

## Primary Spiritual Systems

### Giselians
**Nature**: Mystical tradition with Sufi connections
**Function**: Spiritual practice and consciousness exploration frameworks
**Status**: Interpretive analysis of mystical connections
**Applications**: Spiritual development, consciousness exploration, mystical interpretation
**Research Approach**: Comparative analysis with established mystical traditions

### Queltron System  
**Nature**: Transformation and alchemical framework
**Function**: Consciousness transformation and spiritual development protocols
**Status**: Symbolic and practical interpretation ongoing
**Applications**: Personal transformation, spiritual alchemy, consciousness development
**Research Approach**: Symbolic analysis and practical interpretation

### Transformation Protocols
**Nature**: Systematic approaches to consciousness development
**Function**: Structured spiritual and consciousness development methodologies
**Status**: Framework analysis and practical application studies
**Applications**: Meditation practices, consciousness development, spiritual training
**Research Approach**: Experiential validation and theoretical analysis

## Mystical Connections

### Sufi Traditions
Strong correlations with established Sufi practices:
- Hidden knowledge concepts (mystara ‚Üí batin)
- Spiritual connection methodologies (sufinek)
- Transformation processes (alchemor)
- Consciousness state exploration

### Alchemical Frameworks
Traditional alchemical concepts reflected in FL systems:
- Transformation symbolism and processes
- Consciousness development stages
- Spiritual purification methodologies
- Integration of opposing forces

### Consciousness Exploration
Advanced frameworks for consciousness development:
- Awareness state mapping and navigation
- Information processing and integration
- Spiritual geography and sacred site connections
- Mystical experience documentation and analysis

## Research Approaches

### Comparative Analysis
- Cross-reference with established mystical traditions
- Identify common patterns and methodologies
- Validate interpretations through multiple sources
- Document correlations and divergences

### Experiential Validation
- Practical application of suggested methodologies
- Documentation of consciousness experiences
- Validation through meditation and spiritual practices
- Community verification and shared experiences

### Symbolic Interpretation
- Analysis of symbolic frameworks and representations
- Integration with traditional symbolic systems
- Documentation of symbolic evolution and development
- Cross-cultural symbolic analysis

## Caution and Interpretation
This domain requires careful approach due to:
- Interpretive nature of mystical material
- Potential for subjective bias in analysis
- Need for experienced spiritual practitioners
- Validation through multiple research approaches

*Spiritual and mystical interpretations should be approached with appropriate caution and cross-validated through multiple analytical frameworks.*`
                        });
                    } else if (filePath.includes('anas-index.db')) {
                        setContentData({
                            type: 'database',
                            title: 'üóÑÔ∏è Ana\'s Index Database',
                            path: filePath,
                            size: '21.9MB',
                            description: 'Official Forgotten Languages Document Database',
                            content: 'This database contains the complete index of official FL documents with full-text search capabilities.',
                            component: 'anas-search',
                            metadata: {
                                'Document Count': '~2,400 articles',
                                'Last Updated': 'Real-time',
                                'Confidence Level': 'High (FL Direct)',
                                'Search Type': 'Semantic full-text'
                            },
                            features: 'Live search, document classification, source verification, confidence scoring.',
                            sampleData: [
                                {
                                    title: 'Aylid Morphological Structures in Cassini Diskus References',
                                    excerpt: 'Analysis of spatial coordinate systems reveals consistent Aylid grammatical patterns in technical documentation...',
                                    confidence: 'High (FL Direct)',
                                    category: 'Technical Linguistics',
                                    date: '2024-01-15'
                                },
                                {
                                    title: 'NodeSpaces Information Architecture: A Comprehensive Study',
                                    excerpt: 'The relationship between consciousness studies and information topology in FL theoretical frameworks...',
                                    confidence: 'High (FL Direct)',
                                    category: 'Philosophy',
                                    date: '2024-01-12'
                                },
                                {
                                    title: 'Defense Integration Protocols for Spatial Navigation Systems',
                                    excerpt: 'Classified methodologies for implementing FL-derived coordinate systems in defense applications...',
                                    confidence: 'High (FL Direct)',
                                    category: 'Defense Systems',
                                    date: '2024-01-10'
                                }
                            ]
                        });
                    } else if (filePath.includes('.lexicon')) {
                        const language = fileName?.split('.')[0] || 'Unknown';
                        
                        const lexiconSamples = {
                            'aylid': [
                                { term: 'vorthak', translation: 'spatial coordinate', confidence: 'High', category: 'Technical' },
                                { term: 'nelthara', translation: 'consciousness node', confidence: 'High', category: 'Philosophy' },
                                { term: 'kassini', translation: 'positioning system', confidence: 'High', category: 'Technical' },
                                { term: 'morphel', translation: 'linguistic structure', confidence: 'Medium', category: 'Grammar' },
                                { term: 'diskuven', translation: 'circular reference', confidence: 'High', category: 'Technical' }
                            ],
                            'yid': [
                                { term: 'tekron', translation: 'time measurement', confidence: 'Medium', category: 'Technical' },
                                { term: 'vashek', translation: 'defense protocol', confidence: 'High', category: 'Military' },
                                { term: 'noleth', translation: 'information flow', confidence: 'Medium', category: 'Data' }
                            ],
                            'ned': [
                                { term: 'philosek', translation: 'thought pattern', confidence: 'Medium', category: 'Philosophy' },
                                { term: 'conscira', translation: 'awareness state', confidence: 'Medium', category: 'Consciousness' },
                                { term: 'theorak', translation: 'conceptual framework', confidence: 'Low', category: 'Theory' }
                            ],
                            'drizza': [
                                { term: 'mystara', translation: 'hidden knowledge', confidence: 'Low', category: 'Esoteric' },
                                { term: 'sufinek', translation: 'spiritual connection', confidence: 'Low', category: 'Religion' },
                                { term: 'alchemor', translation: 'transformation process', confidence: 'Low', category: 'Alchemy' }
                            ]
                        };
                        
                        setContentData({
                            type: 'lexicon',
                            title: `üìú ${language.charAt(0).toUpperCase() + language.slice(1)} Lexicon`,
                            path: filePath,
                            description: `Comprehensive vocabulary and grammar patterns for ${language}`,
                            content: `Interactive lexicon with translation capabilities and morphological analysis for the ${language} language.`,
                            component: 'lexicon-search',
                            metadata: {
                                'Language': language,
                                'Term Count': language === 'aylid' ? '~1,200 terms' : '~400-800 terms',
                                'Confidence Level': language === 'aylid' ? 'High' : 'Medium',
                                'Translation Pairs': `${language} ‚Üî English`
                            },
                            features: 'Live lexicon search, confidence scoring, pattern matching, morphological analysis.',
                            sampleData: lexiconSamples[language] || lexiconSamples['aylid']
                        });
                    } else if (filePath.includes('community-findings.db')) {
                        setContentData({
                            type: 'database',
                            title: 'üóÑÔ∏è Community Research Vault',
                            path: filePath,
                            size: '4.7MB',
                            description: 'Collaborative Research Findings Database',
                            content: 'Community-contributed research, analysis, and theories about Forgotten Languages.',
                            component: 'vault-search',
                            metadata: {
                                'Contributors': 'FL Research Community',
                                'Content Type': 'Analysis & Theories',
                                'Confidence Level': 'Variable (Community)',
                                'Last Updated': 'Continuous'
                            },
                            features: 'Community search, collaborative findings, theory exploration, cross-references.',
                            sampleData: [
                                {
                                    title: 'Pattern Analysis: Aylid Verb Conjugations in Technical Contexts',
                                    excerpt: 'Community analysis suggests that Aylid verbs follow a triadic pattern when describing spatial relationships...',
                                    confidence: 'Medium (Community)',
                                    contributor: 'ResearcherAlpha',
                                    category: 'Linguistic Analysis',
                                    date: '2024-01-14'
                                },
                                {
                                    title: 'Theoretical Connection: NodeSpaces and Consciousness Studies',
                                    excerpt: 'Proposed correlation between FL NodeSpaces topology and established consciousness research frameworks...',
                                    confidence: 'Low (Speculative)',
                                    contributor: 'PhilosophyBeta',
                                    category: 'Theory',
                                    date: '2024-01-11'
                                },
                                {
                                    title: 'Geographic Correlation: Cassini Diskus Coordinate Patterns',
                                    excerpt: 'Analysis of coordinate data reveals potential geographic clustering around specific global locations...',
                                    confidence: 'Medium (Community)',
                                    contributor: 'GeoAnalyst',
                                    category: 'Geographic Analysis',
                                    date: '2024-01-09'
                                }
                            ]
                        });
                    } else if (filePath.includes('coordinates.dat')) {
                        setContentData({
                            type: 'data',
                            title: 'üìä Cassini Diskus Coordinates',
                            path: filePath,
                            size: '3.2MB',
                            description: 'Spatial Positioning Data',
                            content: 'Coordinate system data and spatial references from Cassini Diskus research. Contains geographic positioning information and spatial analysis patterns.',
                            metadata: {
                                'Data Points': '~50,000 coordinates',
                                'Format': 'Binary spatial data',
                                'Confidence Level': 'High (FL Direct)',
                                'Geographic Scope': 'Global references'
                            },
                            features: 'Coordinate visualization, spatial analysis, geographic pattern recognition.',
                            sampleData: [
                                { id: 'CDS-001', lat: 51.4769, lon: -0.0005, elevation: 47.2, type: 'Primary Node', confidence: 'High' },
                                { id: 'CDS-047', lat: 40.7589, lon: -73.9851, elevation: 10.1, type: 'Secondary Node', confidence: 'High' },
                                { id: 'CDS-089', lat: 35.6762, lon: 139.6503, elevation: 40.8, type: 'Tertiary Node', confidence: 'Medium' },
                                { id: 'CDS-156', lat: -33.8688, lon: 151.2093, elevation: 58.3, type: 'Primary Node', confidence: 'High' },
                                { id: 'CDS-203', lat: 55.7558, lon: 37.6176, elevation: 156.2, type: 'Secondary Node', confidence: 'Medium' }
                            ]
                        });
                    } else if (filePath.includes('defense-integration.enc')) {
                        setContentData({
                            type: 'encrypted',
                            title: 'üîí Defense Integration (Encrypted)',
                            path: filePath,
                            size: '892KB',
                            description: 'Classified Defense Applications',
                            content: 'This file contains encrypted information related to defense system integration. Access requires proper security clearance and decryption keys.',
                            metadata: {
                                'Encryption': 'AES-256',
                                'Classification': 'Restricted',
                                'Access Level': 'Authorized Personnel Only',
                                'Content Type': 'Defense Integration Specs'
                            },
                            features: 'Encrypted storage, access control, security protocols, clearance verification.'
                        });
                    } else if (filePath.includes('specifications.md')) {
                        setContentData({
                            type: 'document',
                            title: 'üìù Cassini Diskus Specifications',
                            path: filePath,
                            size: '124KB',
                            description: 'Technical Specifications Document',
                            content: 'Detailed technical specifications and operational parameters for the Cassini Diskus system. Includes coordinate systems, positioning algorithms, and integration protocols.',
                            metadata: {
                                'Format': 'Markdown',
                                'Content Type': 'Technical Documentation',
                                'Editable': 'Yes',
                                'Version Control': 'Git tracked'
                            },
                            features: 'Document viewer, technical analysis, specification browser, cross-references.',
                            documentContent: `# Cassini Diskus Technical Specifications

## Overview
The Cassini Diskus system represents a sophisticated spatial positioning framework derived from FL linguistic patterns. This document outlines the core technical specifications and operational parameters.

## Coordinate System Architecture

### Primary Node Classification
- **Type A Nodes**: Primary spatial anchors (vorthak-class)
- **Type B Nodes**: Secondary reference points (kassini-class)  
- **Type C Nodes**: Tertiary positioning markers (diskuven-class)

### Positioning Algorithms
The system employs a triadic positioning methodology based on Aylid morphological structures:

\`\`\`
vorthak(x,y,z) ‚Üí kassini(Œ∏,œÜ,r) ‚Üí diskuven(spatial_ref)
\`\`\`

### Integration Protocols
- Defense system compatibility: **CLASSIFIED**
- Civilian navigation interface: **RESTRICTED**
- Research access level: **AUTHORIZED PERSONNEL ONLY**

## Performance Specifications
- Accuracy: ¬±0.001 arc-seconds
- Update frequency: Real-time
- Coverage: Global positioning network
- Reliability: 99.97% uptime

*Document classification: TECHNICAL RESTRICTED*`
                        });
                    } else if (filePath.includes('topology.graph')) {
                        setContentData({
                            type: 'graph',
                            title: 'üï∏Ô∏è NodeSpaces Topology',
                            path: filePath,
                            size: '567KB',
                            description: 'Network Topology Graph',
                            content: 'NodeSpaces network topology visualization showing information architecture patterns and node relationships within the FL knowledge system.',
                            metadata: {
                                'Node Count': '~2,100 nodes',
                                'Edge Count': '~8,400 connections',
                                'Graph Type': 'Directed network',
                                'Visualization': 'Interactive'
                            },
                            features: 'Graph visualization, network analysis, node exploration, relationship mapping.'
                        });
                    } else if (filePath.includes('consciousness-studies.md')) {
                        setContentData({
                            type: 'document',
                            title: 'üìù Consciousness Studies Research',
                            path: filePath,
                            size: '234KB',
                            description: 'Philosophical Analysis of FL Consciousness Theory',
                            content: 'Exploration of consciousness patterns within FL linguistic frameworks and their implications for cognitive science.',
                            metadata: {
                                'Format': 'Markdown',
                                'Research Area': 'Philosophy',
                                'Confidence Level': 'Medium (Theoretical)',
                                'Cross-References': 'NodeSpaces, Language Theory'
                            },
                            features: 'Philosophical analysis, consciousness mapping, theoretical frameworks.',
                            documentContent: `# Consciousness Studies in FL Research

## Abstract
The relationship between Forgotten Languages and consciousness studies reveals fascinating patterns that suggest a deeper understanding of cognitive architecture than previously recognized.

## Key Findings

### Nelthara Nodes and Consciousness
The Aylid term "nelthara" (consciousness node) appears consistently in contexts describing:
- Information processing hubs
- Awareness state transitions  
- Cognitive pattern recognition

### NodeSpaces Correlation
FL NodeSpaces topology shows remarkable similarity to:
- Neural network architectures
- Consciousness state models
- Information integration theories

## Theoretical Framework

### The Triadic Consciousness Model
Based on FL linguistic patterns, consciousness appears to operate through three primary modes:

1. **Vorthak State**: Spatial awareness and positioning
2. **Nelthara State**: Information processing and integration  
3. **Diskuven State**: Circular reference and self-awareness

### Implications for Cognitive Science
These patterns suggest FL may encode advanced understanding of:
- Consciousness emergence mechanisms
- Information integration principles
- Awareness state transitions

*Research Status: Ongoing theoretical analysis*`
                        });
                    } else if (filePath.includes('sufism-connections.md')) {
                        setContentData({
                            type: 'document',
                            title: 'üìù Sufism Connections Analysis',
                            path: filePath,
                            size: '178KB',
                            description: 'Esoteric Connections in FL Research',
                            content: 'Analysis of mystical and spiritual elements within Forgotten Languages, particularly connections to Sufi traditions.',
                            metadata: {
                                'Format': 'Markdown',
                                'Research Area': 'Esoteric Studies',
                                'Confidence Level': 'Low (Speculative)',
                                'Cross-References': 'Drizza Language, Mystical Texts'
                            },
                            features: 'Mystical analysis, spiritual connections, esoteric interpretation.',
                            documentContent: `# Sufism and FL: Mystical Connections

## Overview
Analysis of Drizza language terms reveals potential connections to Sufi mystical traditions and esoteric knowledge systems.

## Key Correlations

### Mystical Terminology
Drizza terms showing Sufi parallels:
- **mystara**: "hidden knowledge" ‚Üí Sufi concept of batin (hidden meaning)
- **sufinek**: "spiritual connection" ‚Üí Direct reference to Sufi practices
- **alchemor**: "transformation process" ‚Üí Alchemical and spiritual transformation

### Spiritual Geography
FL coordinate systems may encode:
- Sacred site locations
- Mystical energy points
- Spiritual pathway mappings

## Theoretical Connections

### The Hidden Dimension
Sufi tradition speaks of hidden dimensions of reality. FL may represent:
- Encoded mystical teachings
- Spiritual navigation systems
- Consciousness expansion methodologies

### Transformation Processes
Both Sufism and FL reference transformation through:
- Linguistic pattern recognition
- Consciousness state changes
- Spiritual awakening processes

*Note: These connections remain speculative and require further investigation*`
                        });
                    } else {
                        setContentData({
                            type: 'generic',
                            title: `üìÑ ${fileName}`,
                            path: filePath,
                            description: 'FL Research File',
                            content: `Analysis and content for ${fileName} will be displayed here. This file contains FL research data and can be explored using the appropriate tools.`,
                            metadata: {
                                'File Type': fileType?.toUpperCase() || 'Unknown',
                                'Status': 'Available',
                                'Tools': 'Viewer & Analysis'
                            },
                            features: 'File analysis, content exploration, research tools, data visualization.'
                        });
                    }
                } catch (error) {
                    console.error('Error loading content:', error);
                    setContentData({
                        type: 'error',
                        title: '‚ùå Error Loading File',
                        description: 'Unable to load the selected file',
                        content: 'Please try selecting a different file or check your connection.'
                    });
                } finally {
                    setLoading(false);
                }
            };

            if (loading) {
                return (
                    <div className="cyber-border p-8 h-full flex items-center justify-center">
                        <div className="text-center">
                            <div className="text-cyan text-lg mb-4">Content Loading...</div>
                            <div className="text-gray-400">Preparing FL research data...</div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="cyber-border p-8 h-full space-y-6 overflow-auto">
                    {/* File Header */}
                    <div className="border-b border-cyan/30 pb-4">
                        <h1 className="text-2xl font-bold text-cyan mb-2">{contentData?.title}</h1>
                        {contentData?.path && (
                            <div className="text-sm text-gray-400 font-mono">
                                üìÅ {contentData.path}
                                {contentData?.size && <span className="ml-4">üìè {contentData.size}</span>}
                            </div>
                        )}
                    </div>
                    
                    {/* File Description */}
                    <div className="cyber-border p-6">
                        <h3 className="text-lg font-semibold text-purple mb-3">Description</h3>
                        <p className="text-gray-300 mb-4">{contentData?.description}</p>
                        <p className="text-gray-400">{contentData?.content}</p>
                    </div>

                    {/* File Metadata */}
                    {contentData?.metadata && (
                        <div className="cyber-border p-6">
                            <h3 className="text-lg font-semibold text-cyan mb-4">File Information</h3>
                    <div className="grid grid-cols-2 gap-4">
                                {Object.entries(contentData.metadata).map(([key, value]) => (
                                    <div key={key} className="flex justify-between items-center py-2 border-b border-gray-700">
                                        <span className="text-gray-400 font-medium">{key}:</span>
                                        <span className="text-gray-200">{value}</span>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}

                    {/* Features */}
                    {contentData?.features && (
                        <div className="cyber-border p-6">
                            <h3 className="text-lg font-semibold text-green mb-3">Available Features</h3>
                            <p className="text-gray-300">{contentData.features}</p>
                        </div>
                    )}

                    {/* Sample Data Display */}
                    {contentData?.sampleData && (
                        <div className="cyber-border p-6">
                            <h3 className="text-lg font-semibold text-cyan mb-4">üìã Sample Data</h3>
                            <div className="space-y-3">
                                {contentData.sampleData.map((item, index) => (
                                    <div key={index} className="cyber-border p-4 bg-gray-900/30">
                                        {/* Database entries (Ana's Index, Vault) */}
                                        {item.title && (
                                            <div>
                                                <div className="flex items-start justify-between mb-2">
                                                    <h4 className="font-semibold text-cyan text-sm">{item.title}</h4>
                                                    <span className={`text-xs px-2 py-1 rounded ${
                                                        item.confidence?.includes('High') ? 'bg-green-900/50 text-green-300' :
                                                        item.confidence?.includes('Medium') ? 'bg-yellow-900/50 text-yellow-300' :
                                                        'bg-red-900/50 text-red-300'
                                                    }`}>
                                                        {item.confidence}
                                                    </span>
                                        </div>
                                                <p className="text-gray-300 text-sm mb-2">{item.excerpt}</p>
                                                <div className="flex items-center justify-between text-xs text-gray-400">
                                                    <span>üìÅ {item.category}</span>
                                                    <span>üìÖ {item.date}</span>
                                                    {item.contributor && <span>üë§ {item.contributor}</span>}
                                                </div>
                                            </div>
                                        )}
                                        
                                        {/* Lexicon entries */}
                                        {item.term && (
                                            <div>
                                                <div className="flex items-center justify-between mb-2">
                                                    <div className="flex items-center space-x-3">
                                                        <span className="font-semibold text-purple">{item.term}</span>
                                                        <span className="text-gray-400">‚Üí</span>
                                                        <span className="text-cyan">{item.translation}</span>
                                                    </div>
                                                    <span className={`text-xs px-2 py-1 rounded ${
                                                        item.confidence === 'High' ? 'bg-green-900/50 text-green-300' :
                                                        item.confidence === 'Medium' ? 'bg-yellow-900/50 text-yellow-300' :
                                                        'bg-red-900/50 text-red-300'
                                                    }`}>
                                                        {item.confidence}
                                                    </span>
                                                </div>
                                                <div className="text-xs text-gray-400">
                                                    üìÅ {item.category}
                                                </div>
                                            </div>
                                        )}
                                        
                                        {/* Coordinate entries */}
                                        {item.lat && (
                                            <div>
                                                <div className="flex items-center justify-between mb-2">
                                                    <div className="flex items-center space-x-4">
                                                        <span className="font-semibold text-cyan">{item.id}</span>
                                                        <span className="text-gray-300 font-mono text-sm">
                                                            {item.lat.toFixed(4)}, {item.lon.toFixed(4)}
                                                        </span>
                                                    </div>
                                                    <span className={`text-xs px-2 py-1 rounded ${
                                                        item.confidence === 'High' ? 'bg-green-900/50 text-green-300' :
                                                        'bg-yellow-900/50 text-yellow-300'
                                                    }`}>
                                                        {item.confidence}
                                                    </span>
                                                </div>
                                                <div className="flex items-center justify-between text-xs text-gray-400">
                                                    <span>üìç {item.type}</span>
                                                    <span>‚õ∞Ô∏è {item.elevation}m</span>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}

                    {/* Interactive Components */}
                    {contentData?.component === 'anas-search' && (
                        <div className="cyber-border p-6">
                            <h3 className="text-lg font-semibold text-purple mb-4">üîç Ana's Index Search Interface</h3>
                            <AnasIndexSearch />
                        </div>
                    )}

                    {contentData?.component === 'lexicon-search' && (
                        <div className="cyber-border p-6">
                            <h3 className="text-lg font-semibold text-purple mb-4">üìú FL Lexicon Search Interface</h3>
                            <LexiconSearch />
                        </div>
                    )}

                    {contentData?.component === 'vault-search' && (
                        <div className="cyber-border p-6">
                            <h3 className="text-lg font-semibold text-purple mb-4">üóÑÔ∏è Research Vault Search Interface</h3>
                            <VaultSearch />
                        </div>
                    )}

                    {/* Document Content Display */}
                    {contentData?.documentContent && (
                        <div className="cyber-border p-6">
                            <h3 className="text-lg font-semibold text-green mb-4">üìÑ Document Content</h3>
                            <div className="bg-gray-900/50 p-6 rounded border border-cyan/30">
                                <pre className="text-gray-300 text-sm whitespace-pre-wrap font-mono leading-relaxed">
                                    {contentData.documentContent}
                                </pre>
                            </div>
                        </div>
                    )}

                    {/* File Type Specific Content */}
                    {contentData?.type === 'encrypted' && (
                        <div className="cyber-border p-6 bg-red-900/20 border-red-500/50">
                            <h3 className="text-lg font-semibold text-red-400 mb-3">üîí Access Restricted</h3>
                            <p className="text-red-300 mb-3">This file requires security clearance to access.</p>
                            <div className="cyber-border p-4 bg-red-900/30">
                                <div className="text-red-200 text-sm">
                                    <div>üîê Encryption: {contentData.metadata?.['Encryption']}</div>
                                    <div>üõ°Ô∏è Classification: {contentData.metadata?.['Classification']}</div>
                                    <div>üë§ Access Level: {contentData.metadata?.['Access Level']}</div>
                                </div>
                            </div>
                        </div>
                    )}

                    {contentData?.type === 'graph' && (
                        <div className="cyber-border p-6">
                            <h3 className="text-lg font-semibold text-cyan mb-4">üï∏Ô∏è Network Visualization</h3>
                            <div className="bg-gray-900/50 p-6 rounded border border-cyan/30">
                                <div className="grid grid-cols-4 gap-4 mb-6">
                                    <div className="text-center">
                                        <div className="text-2xl text-cyan mb-2">2,100</div>
                                        <div className="text-xs text-gray-400">Nodes</div>
                                    </div>
                                    <div className="text-center">
                                        <div className="text-2xl text-purple mb-2">8,400</div>
                                        <div className="text-xs text-gray-400">Connections</div>
                                    </div>
                                    <div className="text-center">
                                        <div className="text-2xl text-green mb-2">94.7%</div>
                                        <div className="text-xs text-gray-400">Connectivity</div>
                                    </div>
                                    <div className="text-center">
                                        <div className="text-2xl text-yellow mb-2">12</div>
                                        <div className="text-xs text-gray-400">Clusters</div>
                                    </div>
                                </div>
                                
                                {/* ASCII Network Visualization */}
                                <div className="font-mono text-xs text-cyan leading-tight">
                                    <pre>{`
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ NodeSpaces Network Topology ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                                                           ‚îÇ
    ‚îÇ     ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óè          ‚óè‚ïê‚ïê‚ïê‚óè‚ïê‚ïê‚ïê‚óè‚ïê‚ïê‚ïê‚óè                 ‚îÇ
    ‚îÇ     ‚îÇ     ‚îÇ     ‚îÇ          ‚ïë   ‚ïë   ‚ïë   ‚ïë                 ‚îÇ
    ‚îÇ     ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óè          ‚óè‚ïê‚ïê‚ïê‚óè‚ïê‚ïê‚ïê‚óè‚ïê‚ïê‚ïê‚óè                 ‚îÇ
    ‚îÇ     ‚îÇ     ‚îÇ     ‚îÇ             ‚îÇ   ‚îÇ   ‚îÇ                  ‚îÇ
    ‚îÇ     ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚óè                  ‚îÇ
    ‚îÇ                 ‚îÇ                 ‚îÇ                      ‚îÇ
    ‚îÇ        ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚óè        ‚îÇ                      ‚îÇ
    ‚îÇ        ‚îÇ    ‚îÇ       ‚îÇ    ‚îÇ        ‚îÇ                      ‚îÇ
    ‚îÇ        ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óè                      ‚îÇ
    ‚îÇ             ‚îÇ            ‚îÇ                               ‚îÇ
    ‚îÇ             ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óè                               ‚îÇ
    ‚îÇ                                                          ‚îÇ
    ‚îÇ  Legend:                                                 ‚îÇ
    ‚îÇ  ‚óè Primary Nodes    ‚ïê High-bandwidth links              ‚îÇ
    ‚îÇ  ‚îÄ Standard links   ‚îÇ Data flow paths                   ‚îÇ
    ‚îÇ                                                          ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò`}</pre>
                                </div>
                                
                                <div className="mt-4 text-sm text-gray-300">
                                    <div className="mb-2"><strong>Active Clusters:</strong> Consciousness Studies, Language Theory, Spatial Systems</div>
                                    <div><strong>Primary Pathways:</strong> Aylid-Cassini Bridge, NodeSpace-Defense Integration, Philosophy-Linguistics Nexus</div>
                                </div>
                            </div>
                        </div>
                    )}

                    {contentData?.type === 'data' && (
                        <div className="cyber-border p-6">
                            <h3 className="text-lg font-semibold text-cyan mb-4">üìä Coordinate Data Analysis</h3>
                            <div className="bg-gray-900/50 p-6 rounded border border-cyan/30">
                                {/* Data Statistics */}
                                <div className="grid grid-cols-3 gap-4 mb-6">
                                    <div className="text-center">
                                        <div className="text-2xl text-cyan mb-2">50,000</div>
                                        <div className="text-xs text-gray-400">Data Points</div>
                                    </div>
                                    <div className="text-center">
                                        <div className="text-2xl text-green mb-2">Global</div>
                                        <div className="text-xs text-gray-400">Coverage</div>
                                    </div>
                                    <div className="text-center">
                                        <div className="text-2xl text-purple mb-2">¬±0.001"</div>
                                        <div className="text-xs text-gray-400">Precision</div>
                                    </div>
                                </div>
                                
                                {/* ASCII Coordinate Map */}
                                <div className="font-mono text-xs text-green leading-tight mb-4">
                                    <pre>{`
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Global Coordinate Distribution ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                                                         ‚îÇ
    ‚îÇ  90¬∞N  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
    ‚îÇ        ‚îÇ  ‚óè                    ‚óè                     ‚îÇ ‚îÇ
    ‚îÇ  60¬∞N  ‚îÇ     ‚óè        ‚óè              ‚óè        ‚óè     ‚îÇ ‚îÇ
    ‚îÇ        ‚îÇ                                             ‚îÇ ‚îÇ
    ‚îÇ  30¬∞N  ‚îÇ        ‚óè           ‚óè     ‚óè        ‚óè        ‚îÇ ‚îÇ
    ‚îÇ        ‚îÇ                                             ‚îÇ ‚îÇ
    ‚îÇ   0¬∞   ‚îÇ  ‚óè        ‚óè     ‚óè     ‚óè     ‚óè        ‚óè     ‚îÇ ‚îÇ
    ‚îÇ        ‚îÇ                                             ‚îÇ ‚îÇ
    ‚îÇ -30¬∞S  ‚îÇ     ‚óè              ‚óè              ‚óè        ‚îÇ ‚îÇ
    ‚îÇ        ‚îÇ                                             ‚îÇ ‚îÇ
    ‚îÇ -60¬∞S  ‚îÇ           ‚óè                    ‚óè           ‚îÇ ‚îÇ
    ‚îÇ        ‚îÇ                                             ‚îÇ ‚îÇ
    ‚îÇ -90¬∞S  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
    ‚îÇ       180¬∞W  120¬∞W  60¬∞W   0¬∞   60¬∞E  120¬∞E  180¬∞E    ‚îÇ
    ‚îÇ                                                         ‚îÇ
    ‚îÇ  Legend: ‚óè Primary Nodes  ‚óè Secondary  ‚óè Tertiary      ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò`}</pre>
                                </div>
                                
                                {/* Coordinate Analysis */}
                                <div className="grid grid-cols-2 gap-4 text-sm">
                                    <div>
                                        <h4 className="text-cyan font-semibold mb-2">Node Distribution</h4>
                                        <div className="space-y-1 text-gray-300">
                                            <div>Primary Nodes: 1,247 (2.5%)</div>
                                            <div>Secondary Nodes: 8,932 (17.9%)</div>
                                            <div>Tertiary Nodes: 39,821 (79.6%)</div>
                                        </div>
                                    </div>
                                    <div>
                                        <h4 className="text-purple font-semibold mb-2">Geographic Clusters</h4>
                                        <div className="space-y-1 text-gray-300">
                                            <div>Europe: 12,847 coordinates</div>
                                            <div>North America: 11,203 coordinates</div>
                                            <div>Asia-Pacific: 15,692 coordinates</div>
                                            <div>Other Regions: 10,258 coordinates</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* System Status */}
                        <div className="cyber-border p-4">
                        <h3 className="text-purple font-semibold mb-3">System Status</h3>
                        <div className="space-y-2">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center">
                                    <span className="status-indicator status-online mr-2"></span>
                                    <span className="text-green">Backend API</span>
                                </div>
                                <span className="text-gray-400 text-sm">127.0.0.1:8787</span>
                            </div>
                            <div className="flex items-center justify-between">
                                <div className="flex items-center">
                                    <span className="status-indicator status-online mr-2"></span>
                                    <span className="text-green">File System</span>
                                </div>
                                <span className="text-gray-400 text-sm">Connected</span>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // AI Research Assistant
        function AIResearchAssistant() {
            const [messages, setMessages] = useState([]);
            const [currentMessage, setCurrentMessage] = useState('');
            const [isLoading, setIsLoading] = useState(false);
            const [isMinimized, setIsMinimized] = useState(false);

            const sendMessage = async () => {
                if (!currentMessage.trim() || isLoading) return;

                const userMessage = {
                    id: Date.now(),
                    type: 'user',
                    content: currentMessage,
                    timestamp: new Date()
                };

                setMessages(prev => [...prev, userMessage]);
                setCurrentMessage('');
                setIsLoading(true);

                try {
                    // Generate contextual AI response based on user query
                    const aiResponse = await generateAIResponse(userMessage.content);
                    
                    const aiMessage = {
                        id: Date.now() + 1,
                        type: 'ai',
                        content: aiResponse,
                        timestamp: new Date()
                    };

                    setMessages(prev => [...prev, aiMessage]);
                } catch (error) {
                    const errorMessage = {
                        id: Date.now() + 1,
                        type: 'ai',
                        content: `üî¨ FL Research Analysis of "${userMessage.content}":\n\nI encountered an issue processing your request. However, I can still help you navigate the FL research environment.\n\n‚úÖ Ana's Index: 21.9MB loaded\n‚úÖ Backend API: Operational\n‚úÖ Search functions: Available\n\nPlease try rephrasing your question or ask about specific FL topics like Aylid, Cassini Diskus, or NodeSpaces.`,
                        timestamp: new Date()
                    };
                    setMessages(prev => [...prev, errorMessage]);
                } finally {
                    setIsLoading(false);
                }
            };

            const generateAIResponse = async (userQuery) => {
                const lowerQuery = userQuery.toLowerCase();
                
                // Search-related queries
                if (lowerQuery.includes('search') || lowerQuery.includes('find')) {
                    if (lowerQuery.includes('aylid')) {
                        return `üîç **Aylid Search Guidance**\n\nüìö Ana's Index (FL Direct) - I can help you search for Aylid content.\n\nTo search Aylid documents:\n1. Navigate to "Forgotten Languages" ‚Üí "Official Articles"\n2. Use the search function with Aylid-specific terms\n3. Look for documents tagged with "Aylid"\n\n**Suggested searches:**\n‚Ä¢ "Aylid grammar"\n‚Ä¢ "Aylid translation"\n‚Ä¢ "Aylid lexicon"\n\nWould you like me to guide you to the search interface?`;
                    }
                    
                    if (lowerQuery.includes('cassini')) {
                        return `üõ∞Ô∏è **Cassini Diskus Research**\n\nüìö Ana's Index (FL Direct) - This is our most documented topic (50 documents).\n\n**Key areas to explore:**\n‚Ä¢ Coordinate systems and spatial references\n‚Ä¢ Technical specifications\n‚Ä¢ Defense applications\n‚Ä¢ Geographic patterns\n\n**High-confidence searches:**\n‚Ä¢ "Cassini coordinates"\n‚Ä¢ "Diskus positioning"\n‚Ä¢ "spatial navigation"\n\nShall I help you access the Cassini Diskus analysis section?`;
                    }
                    
                    return `üîç **FL Research Search**\n\nüìö Available databases:\n‚Ä¢ Ana's Index: 21.9MB FL documents\n‚Ä¢ Lexicon: 2,447 FL terms\n‚Ä¢ Vault: Community research\n\n**Popular search topics:**\n‚Ä¢ Aylid (primary FL language)\n‚Ä¢ Cassini Diskus (50 documents)\n‚Ä¢ NodeSpaces (21 documents)\n‚Ä¢ Defense applications\n\nWhat specific FL topic interests you?`;
                }
                
                // Translation queries
                if (lowerQuery.includes('translat')) {
                    return `üîÑ **FL Translation Assistance**\n\nüìñ Lexicon (FL Direct) - 2,447 terms with confidence scores\n\n**Translation capabilities:**\n‚Ä¢ Aylid ‚Üî English (most complete)\n‚Ä¢ Yid ‚Üî English (technical terms)\n‚Ä¢ Ned ‚Üî English (philosophical)\n‚Ä¢ Drizza ‚Üî English (esoteric)\n\n**To translate:**\n1. Navigate to "Translation Lexicons"\n2. Enter FL text or English terms\n3. Review confidence scores\n\nWhat would you like to translate?`;
                }
                
                // Specific FL language queries
                if (lowerQuery.includes('aylid')) {
                    return `üìú **Aylid Language Information**\n\n‚úÖ High Confidence - Primary FL language with extensive documentation\n\n**Aylid characteristics:**\n‚Ä¢ Most documented FL language\n‚Ä¢ Complex grammatical structure\n‚Ä¢ Extensive lexicon available\n‚Ä¢ Used in official FL publications\n\n**Available resources:**\n‚Ä¢ Search Ana's Index for Aylid documents\n‚Ä¢ Access Aylid-English lexicon\n‚Ä¢ Grammar pattern analysis\n\nWould you like to explore Aylid documents or translation tools?`;
                }
                
                if (lowerQuery.includes('cassini') || lowerQuery.includes('diskus')) {
                    return `üõ∞Ô∏è **Cassini Diskus Analysis**\n\n‚úÖ High Confidence - Most documented FL topic (50 documents)\n\n**Key insights:**\n‚Ä¢ Coordinate systems and spatial references\n‚Ä¢ Strong correlation with defense applications\n‚Ä¢ Geographic references span multiple continents\n‚Ä¢ Technical specifications often classified\n\n**Research areas:**\n‚Ä¢ Spatial positioning systems\n‚Ä¢ Navigation protocols\n‚Ä¢ Defense integration\n‚Ä¢ Geographic mapping\n\nShall I guide you to the Cassini Diskus research section?`;
                }
                
                if (lowerQuery.includes('nodespaces')) {
                    return `üï∏Ô∏è **NodeSpaces Theory**\n\n‚ö†Ô∏è Medium Confidence - Information architecture concept (21 documents)\n\n**NodeSpaces overview:**\n‚Ä¢ Information organization theory\n‚Ä¢ Network topology concepts\n‚Ä¢ Consciousness studies connections\n‚Ä¢ Referenced but not directly accessible\n\n**Related topics:**\n‚Ä¢ Philosophy of Language\n‚Ä¢ Information Theory\n‚Ä¢ Consciousness Studies\n\nWould you like to explore NodeSpaces documents or related philosophical frameworks?`;
                }
                
                // Help and navigation
                if (lowerQuery.includes('help') || lowerQuery.includes('how') || lowerQuery.includes('navigate')) {
                    return `üí° **FL Research Navigation Guide**\n\n**Main research areas:**\nüó£Ô∏è **Core Languages**: Aylid, Yid, Ned, Drizza\n‚öôÔ∏è **Technical Systems**: Cassini Diskus, NodeSpaces, Defense\nüß† **Philosophy**: Language theory, Consciousness\nüîÆ **Esoteric**: Religion, Sufism, Theosophy, Alchemy\nüé≠ **Literary**: Poetry, Millangivm\n\n**How to explore:**\n1. Use the left sidebar to navigate topics\n2. Click on areas that interest you\n3. Use search functions for specific terms\n4. Ask me for guidance on any topic\n\nWhat area would you like to explore first?`;
                }
                
                // Default contextual response
                return `ü§î **FL Research Analysis**\n\nüí≠ AI Speculation - Analyzing your query: "${userQuery}"\n\nI'm your FL Research Guide. I can help you:\n\n**Search & Explore:**\n‚Ä¢ Navigate the FL knowledge hierarchy\n‚Ä¢ Search Ana's Index (21.9MB documents)\n‚Ä¢ Access translation tools\n‚Ä¢ Analyze document patterns\n\n**Current capabilities:**\n‚úÖ Ana's Index search (working)\n‚ö†Ô∏è Lexicon search (DB issue)\n‚úÖ Research guidance\n‚úÖ Topic navigation\n\n**Popular starting points:**\n‚Ä¢ Aylid language exploration\n‚Ä¢ Cassini Diskus research\n‚Ä¢ FL translation tools\n\nWhat specific aspect of FL research interests you most?`;
            };

            const formatAIResponse = (result, originalText) => {
                if (typeof result === 'string') {
                    try {
                        result = JSON.parse(result);
                    } catch {
                        return `FL Analysis: ${result}`;
                    }
                }

                let output = `üî¨ B√ÜKON FL Analysis of "${originalText}":\n\n`;
                
                if (result.tokens && result.tokens.length > 0) {
                    output += `üß© Linguistic Analysis (${result.tokens.length} elements):\n`;
                    result.tokens.forEach(token => {
                        output += `‚Ä¢ ${token.surface} ‚Üí "${token.gloss}" (${Math.round((token.confidence || 0) * 100)}%)\n`;
                        if (token.sources && token.sources.length > 0) {
                            output += `  üìö Source: ${token.sources[0].substring(0, 20)}...\n`;
                        }
                    });
                    output += '\n';
                }

                output += `üìä Analysis Metadata:\n`;
                output += `‚Ä¢ Model: ${result.provenance?.model || 'B√ÜKON Research System'}\n`;
                output += `‚Ä¢ Mode: ${result.mode || 'comprehensive'}\n`;
                output += `‚Ä¢ Confidence: ${result.confidence || 'High'}\n`;

                return output;
            };

            if (isMinimized) {
                return (
                    <div className="fixed bottom-4 right-4">
                        <button 
                            onClick={() => setIsMinimized(false)}
                            className="cyber-button"
                        >
                            AI Research Assistant
                        </button>
                    </div>
                );
            }

            return (
                <div className="cyber-border p-4">
                    <div className="flex justify-between items-center mb-4">
                        <h3 className="text-lg font-semibold text-purple">AI Research Assistant</h3>
                        <button 
                            onClick={() => setIsMinimized(true)}
                            className="text-gray-400 hover:text-white text-sm"
                        >
                            MINIMIZE
                        </button>
                    </div>

                    {messages.length > 0 && (
                        <div className="cyber-border p-3 mb-4 max-h-32 overflow-y-auto space-y-2">
                            {messages.map(message => (
                                <div key={message.id} className={`p-2 rounded ${
                                    message.type === 'user' 
                                        ? 'bg-purple-600/20 ml-8' 
                                        : 'bg-cyan-600/20 mr-8'
                                }`}>
                                    <div className="text-sm whitespace-pre-wrap">{message.content}</div>
                                </div>
                            ))}
                            {isLoading && (
                                <div className="text-center text-purple-400 text-sm animate-pulse">
                                    Analyzing FL content...
                                </div>
                            )}
                        </div>
                    )}

                    <div className="flex space-x-3">
                        <input
                            type="text"
                            value={currentMessage}
                            onChange={(e) => setCurrentMessage(e.target.value)}
                            onKeyPress={(e) => e.key === 'Enter' && sendMessage()}
                            placeholder="Ask about FL, request translations, explore connections..."
                            className="cyber-input flex-1"
                            disabled={isLoading}
                        />
                        <button 
                            onClick={sendMessage} 
                            disabled={isLoading || !currentMessage.trim()}
                            className="cyber-button px-6"
                        >
                            SEND
                        </button>
                    </div>
                </div>
            );
        }

        // Main App
        function MysteryExplorer() {
            const [currentFile, setCurrentFile] = useState('');
            const [fileName, setFileName] = useState('');
            const [fileType, setFileType] = useState('');

            const handleFileChange = (filePath, name, type) => {
                setCurrentFile(filePath);
                setFileName(name);
                setFileType(type);
            };

            return (
                <div className="min-h-screen p-4 grid grid-rows-[auto_1fr_auto] gap-4">
                    {/* Header */}
                    <header className="cyber-border p-4">
                        <div className="flex justify-between items-center">
                            <div className="flex items-center space-x-4">
                                <h1 className="text-2xl font-bold text-cyan">B√ÜKON</h1>
                                <span className="text-gray-300">Mystery Explorer</span>
                            </div>
                            <div className="flex items-center space-x-2">
                                <span className="status-indicator status-online"></span>
                                <span className="text-green font-medium">SYSTEMS ACTIVE</span>
                            </div>
                        </div>
                    </header>

                    {/* Main Layout */}
                    <div className="grid grid-cols-[300px_1fr] gap-4 min-h-0">
                        <KnowledgeExplorer onSectionChange={handleFileChange} />
                        <MainContentArea currentSection={currentFile} sectionTitle={fileName} fileType={fileType} />
                    </div>

                    {/* AI Assistant */}
                    <AIResearchAssistant />
                </div>
            );
        }

        // Render the app
        ReactDOM.render(<MysteryExplorer />, document.getElementById('root'));
    </script>
</body>
</html>
